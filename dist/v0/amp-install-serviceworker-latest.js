(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var g="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function h(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(g.Object.defineProperties){var e=g.Object.getOwnPropertyDescriptor(b,c);void 0!==e&&g.Object.defineProperty(a,c,e)}else a[c]=b[c]};var m=null,n="";
function q(){if(m)return m;var a;if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,d=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),c=0;c<b.length;c++){var e=b[c],
f=e.indexOf("="),k=void 0,p=void 0;-1!=f?(k=decodeURIComponent(e.substring(0,f)).trim(),p=decodeURIComponent(e.substring(f+1)).trim()):(k=decodeURIComponent(e).trim(),p="");k&&(d[k]=p)}}n||(n=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==d.development||window.AMP_DEV_MODE,filter:d.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:d.log,version:n}}return m=a};var r=(new Date).getTime();function t(a,b,d){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=d||""}t.prototype.calcLevel_=function(){var a=q();return this.win.console&&this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};
t.prototype.msg_=function(a,b,d){if(0!=this.level_){var c=this.win.console.log;"ERROR"==b?c=this.win.console.error||c:"INFO"==b?c=this.win.console.info||c:"WARN"==b&&(c=this.win.console.warn||c);d.unshift((new Date).getTime()-r,"["+a+"]");c.apply(this.win.console,d)}};t.prototype.isEnabled=function(){return 0!=this.level_};t.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};
t.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};t.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};t.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var d=u.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(d);this.win.setTimeout(function(){throw d;})}};
t.prototype.createError=function(a){var b=u.apply(null,arguments);this.prepareError_(b);return b};
t.prototype.assert=function(a,b,d){var c=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),k=f,p=[];""!=f&&p.push(f);for(f=2;f<arguments.length;f++){var l=arguments[f];l&&l.tagName&&(c=l);var z=e.shift();p.push(l);var A=z.trim();""!=A&&p.push(A);l=l instanceof Element?l.tagName.toLowerCase()+(l.id?"#"+l.id:""):l;k+=l+z}e=Error(k);e.fromAssert=!0;e.associatedElement=c;e.messageArray=p;this.prepareError_(e);throw e;}return a};
t.prototype.assertEnumValue=function(a,b,d){for(var c in a)if(a[c]==b)return a[c];this.assert(!1,'Unknown %s value: "%s"',d||"enum",b)};t.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function u(a){for(var b=null,d="",c=0;c<arguments.length;c++){var e=arguments[c];e instanceof Error&&!b?b=e:(d&&(d+=" "),d+=e)}b?d&&(b.message=d+": "+b.message):b=Error(d);return b}
var v=new t(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b");new t(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});function w(a,b){if(b.length>a.length)return!1;var d=a.length-b.length;return a.indexOf(b,d)==d};var x=window.document.createElement("a"),y=Object.create(null),B=/[?&]amp_js[^&]*/;
function C(a){var b=y[a];if(b)return b;x.href=a;var b={href:x.href,protocol:x.protocol,host:x.host,hostname:x.hostname,port:"0"==x.port?"":x.port,pathname:x.pathname,search:x.search,hash:x.hash},d;x.origin&&"null"!=x.origin?d=x.origin:(d=b,"string"==typeof d&&(d=C(d)),d="data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href);b.origin=d;v.assert(b.origin,"Origin must exist");y[a]=window.AMP_TEST&&Object.freeze?Object.freeze(b):b;return b}
function D(a,b){v.assert(null!=a,"%s source must be available",b);var d=C(a);v.assert("https:"==d.protocol||/^(\/\/)/.test(a)||"localhost"==d.hostname||w(d.hostname,".localhost"),'%s source must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,a);return a}function E(a){"string"==typeof a&&(a=C(a));var b=a.pathname.split("/")[1];return"https://cdn.ampproject.org"==a.origin||0==a.origin.indexOf("http://localhost:")&&("c"==b||"v"==b)};function F(a,b,d){var c=a.services;c||(c=a.services={});var e=c[b];e||(e=c[b]={obj:null,promise:null,resolve:null});e.obj||(e.obj=d(a),e.promise||(e.promise=Promise.resolve(e.obj)),e.resolve&&e.resolve(e.obj));return e.obj};function G(a){this.win=a;this.resolved_=Promise.resolve();this.taskCount_=0;this.canceled_={};this.startTime_=this.now()}G.prototype.now=function(){return Date.now()};G.prototype.timeSinceStart=function(){return this.now()-this.startTime_};G.prototype.delay=function(a,b){if(!b){var d=this,c="p"+this.taskCount_++;this.resolved_.then(function(){d.canceled_[c]?delete d.canceled_[c]:a()});return c}return this.win.setTimeout(a,b)};
G.prototype.cancel=function(a){"string"==typeof a?this.canceled_[a]=!0:this.win.clearTimeout(a)};G.prototype.promise=function(a,b){var d=this,c=null;return(new Promise(function(e,f){c=d.delay(function(){c=-1;e(b)},a);-1==c&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=c&&d.cancel(c);throw a;})};
G.prototype.timeoutPromise=function(a,b,d){var c=this,e=null,f=(new Promise(function(b,f){e=c.delay(function(){e=-1;f(v.createError(d||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&c.cancel(e);throw a;});return b?Promise.race([f,b]):f};var H=new G(window);function I(a){return F(a,"viewer")};function J(a){return F(a,"documentInfo",function(){var b=C(v.assert(a.document.querySelector("link[rel=canonical]"),"AMP files are required to have a <link rel=canonical> tag.").href).href,d=String(Math.floor(1E4*a.Math.random())),c;c=a.location.href;"string"==typeof c&&(c=C(c));if(E(c)){var e=c.pathname.split("/"),f=e[1];v.assert("c"==f||"v"==f,"Unknown path prefix in url %s",c.href);var f=e[2],k="s"==f?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(f);v.assert(0<k.indexOf("."),
"Expected a . in origin %s",k);e.splice(1,"s"==f?3:2);e=k+e.join("/");f=(f=c.search)&&"?"!=f?(f=f.replace(B,"").replace(/^[?&]/,""))?"?"+f:"":"";c=e+f+(c.hash||"")}else c=c.href;return{canonicalUrl:b,pageViewId:d,sourceUrl:c}})};function K(a){AMP.BaseElement.apply(this,arguments)}h(K,AMP.BaseElement);
K.prototype.buildCallback=function(){var a=this.getWin();if("serviceWorker"in a.navigator){var b=this.element.getAttribute("src");D(b,this.element);this.iframeSrc_=null;if(E(b)||E(a.location.href)){if(b=this.element.getAttribute("data-iframe-src")){D(b,this.element);var d=C(b).origin,c=J(a),a=C(c.sourceUrl),c=C(c.canonicalUrl);v.assert(d==a.origin||d==c.origin,"data-iframe-src (%s) should be a URL on the same origin as the source (%s) or canonical URL (%s) of the AMP-document.",d,a.origin,c.origin);
this.iframeSrc_=b;this.scheduleIframeLoad_()}}else C(a.location.href).origin==C(b).origin?L(this.getWin(),b):v.error("amp-install-serviceworker","Did not install ServiceWorker because it does not match the current origin: "+b)}};K.prototype.scheduleIframeLoad_=function(){var a=this;I(this.getWin()).whenFirstVisible().then(function(){H.delay(function(){a.deferMutate(a.insertIframe_.bind(a))},2E4)})};
K.prototype.insertIframe_=function(){if(I(this.getWin()).isVisible()){this.insertedIframe_=!0;this.element.style.display="none";var a=document.createElement("iframe");a.setAttribute("sandbox","allow-same-origin allow-scripts");a.src=this.iframeSrc_;this.element.appendChild(a)}};
function L(a,b){a.navigator.serviceWorker.register(b).then(function(a){q().development&&v.info("amp-install-serviceworker","ServiceWorker registration successful with scope: ",a.scope)}).catch(function(a){v.error("amp-install-serviceworker","ServiceWorker registration failed:",a)})}AMP.registerElement("amp-install-serviceworker",K);
});
//# sourceMappingURL=amp-install-serviceworker-0.1.js.map

