(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function l(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(k.Object.defineProperties){var e=k.Object.getOwnPropertyDescriptor(b,d);void 0!==e&&k.Object.defineProperty(a,d,e)}else a[d]=b[d]};var n=null,p="";var r=(new Date).getTime();function t(a,b,c){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=c||""}
t.prototype.calcLevel_=function(){var a;if(n)a=n;else{if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,c=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),d=0;d<b.length;d++){var e=
b[d],f=e.indexOf("="),h=void 0,m=void 0;-1!=f?(h=decodeURIComponent(e.substring(0,f)).trim(),m=decodeURIComponent(e.substring(f+1)).trim()):(h=decodeURIComponent(e).trim(),m="");h&&(c[h]=m)}}p||(p=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==c.development||window.AMP_DEV_MODE,filter:c.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:c.log,version:p}}a=n=a}return this.win.console&&
this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};t.prototype.msg_=function(a,b,c){if(0!=this.level_){var d=this.win.console.log;"ERROR"==b?d=this.win.console.error||d:"INFO"==b?d=this.win.console.info||d:"WARN"==b&&(d=this.win.console.warn||d);c.unshift((new Date).getTime()-r,"["+a+"]");d.apply(this.win.console,c)}};t.prototype.isEnabled=function(){return 0!=this.level_};
t.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};t.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};t.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};
t.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=u.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(c);this.win.setTimeout(function(){throw c;})}};t.prototype.createError=function(a){var b=u.apply(null,arguments);this.prepareError_(b);return b};
t.prototype.assert=function(a,b,c){var d=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),h=f,m=[];""!=f&&m.push(f);for(f=2;f<arguments.length;f++){var g=arguments[f];g&&g.tagName&&(d=g);var q=e.shift();m.push(g);var z=q.trim();""!=z&&m.push(z);g=g instanceof Element?g.tagName.toLowerCase()+(g.id?"#"+g.id:""):g;h+=g+q}e=Error(h);e.fromAssert=!0;e.associatedElement=d;e.messageArray=m;this.prepareError_(e);throw e;}return a};
t.prototype.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};t.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function u(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}
var v=new t(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b"),w=new t(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});function x(a,b,c){var d=a.services;d||(d=a.services={});var e=d[b];e||(e=d[b]={obj:null,promise:null,resolve:null});e.obj||(e.obj=c(a),e.promise||(e.promise=Promise.resolve(e.obj)),e.resolve&&e.resolve(e.obj));return e.obj};function y(a){this.win=a;this.resolved_=Promise.resolve();this.taskCount_=0;this.canceled_={};this.startTime_=this.now()}y.prototype.now=function(){return Date.now()};y.prototype.timeSinceStart=function(){return this.now()-this.startTime_};y.prototype.delay=function(a,b){if(!b){var c=this,d="p"+this.taskCount_++;this.resolved_.then(function(){c.canceled_[d]?delete c.canceled_[d]:a()});return d}return this.win.setTimeout(a,b)};
y.prototype.cancel=function(a){"string"==typeof a?this.canceled_[a]=!0:this.win.clearTimeout(a)};y.prototype.promise=function(a,b){var c=this,d=null;return(new Promise(function(e,f){d=c.delay(function(){d=-1;e(b)},a);-1==d&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=d&&c.cancel(d);throw a;})};
y.prototype.timeoutPromise=function(a,b,c){var d=this,e=null,f=(new Promise(function(b,f){e=d.delay(function(){e=-1;f(v.createError(c||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&d.cancel(e);throw a;});return b?Promise.race([f,b]):f};var A=new y(window);var B=Object.create(null);function C(a,b){if(b in B)return B[b];var c;b:{c=void 0;try{c=a.document.cookie}catch(h){}if(c){c=c.split(";");for(var d=0;d<c.length;d++){var e=c[d].trim(),f=e.indexOf("=");if(-1!=f&&"AMP_EXP"==decodeURIComponent(e.substring(0,f).trim())){c=decodeURIComponent(e.substring(f+1).trim());break b}}}c=null}c=-1!=(c?c.split(/\s*,\s*/g):[]).indexOf(b)?!0:a.AMP_CONFIG&&a.AMP_CONFIG.hasOwnProperty(b)?Math.random()<a.AMP_CONFIG[b]:!1;return B[b]=c};var D=Object.create(null),E="Webkit webkit Moz moz ms O o".split(" ");function F(a,b){for(var c in b){var d=a,e=b[c],f;f=d.style;var h=D[c];if(!h){h=c;if(void 0===f[c]){var m=c.charAt(0).toUpperCase()+c.slice(1),g=void 0;a:{for(g=0;g<E.length;g++){var q=E[g]+m;if(void 0!==f[q]){g=q;break a}}g=""}m=g;void 0!==f[m]&&(h=m)}D[c]=h}(f=h)&&(d.style[f]=e)}};function G(a){this.navigator=a.navigator}G.prototype.isIos=function(){return/iPhone|iPad|iPod/i.test(this.navigator.userAgent)};G.prototype.isSafari=function(){return/Safari/i.test(this.navigator.userAgent)&&!this.isChrome()&&!this.isEdge()};G.prototype.isChrome=function(){return/Chrome|CriOS/i.test(this.navigator.userAgent)&&!this.isEdge()};G.prototype.isFirefox=function(){return/Firefox/i.test(this.navigator.userAgent)&&!this.isEdge()};
G.prototype.isIe=function(){return/MSIE/i.test(this.navigator.userAgent)||/IEMobile/i.test(this.navigator.userAgent)};G.prototype.isEdge=function(){return/Edge/i.test(this.navigator.userAgent)};G.prototype.isWebKit=function(){return/WebKit/i.test(this.navigator.userAgent)&&!this.isEdge()};var H=function(a){return x(a,"platform",function(){return new G(a)})}(window);var I={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill",FLEX_ITEM:"flex-item"};function J(a){AMP.BaseElement.apply(this,arguments)}l(J,AMP.BaseElement);J.prototype.isLayoutSupported=function(a){return a==I.NOLAYOUT};J.prototype.isReadyToBuild=function(){return!1};
J.prototype.buildCallback=function(){var a=this;this.isExperimentOn_=C(this.getWin(),"amp-sidebar");this.win_=this.getWin();this.document_=this.win_.document;this.documentElement_=this.document_.documentElement;this.side_=this.element.getAttribute("side");this.viewport_=this.getViewport();this.maskElement_=!1;this.vsync_=x(this.win_,"vsync");this.isIosSafari_=H.isIos()&&H.isSafari();this.historyId_=-1;this.bottomBarCompensated_=!1;this.isExperimentOn_?("left"!=this.side_&&"right"!=this.side_&&(this.side_=
"rtl"==(this.document_.body.getAttribute("dir")||this.documentElement_.getAttribute("dir")||"ltr")?"right":"left",this.element.setAttribute("side",this.side_)),this.isIosSafari_&&this.fixIosElasticScrollLeak_(),this.isOpen_()?this.open_():this.element.setAttribute("aria-hidden","true"),this.documentElement_.addEventListener("keydown",function(b){27==b.keyCode&&a.close_()}),this.registerAction("toggle",this.toggle_.bind(this)),this.registerAction("open",this.open_.bind(this)),this.registerAction("close",
this.close_.bind(this))):w.warn("amp-sidebar","Experiment amp-sidebar disabled")};J.prototype.isOpen_=function(){return this.element.hasAttribute("open")};J.prototype.activate=function(){this.open_()};J.prototype.toggle_=function(){this.isOpen_()?this.close_():this.open_()};
J.prototype.open_=function(){var a=this;this.viewport_.disableTouchZoom();this.vsync_.mutate(function(){F(a.element,{display:"block"});a.viewport_.addToFixedLayer(a.element);a.openMask_();a.isIosSafari_&&a.compensateIosBottombar_();a.element.scrollTop=1;a.vsync_.mutate(function(){a.element.setAttribute("open","");a.element.setAttribute("aria-hidden","false");A.delay(function(){a.scheduleLayout(a.getRealChildren())},550)})});this.getHistory_().push(this.close_.bind(this)).then(function(b){a.historyId_=
b})};J.prototype.close_=function(){var a=this;this.viewport_.restoreOriginalTouchZoom();this.vsync_.mutate(function(){a.closeMask_();a.element.removeAttribute("open");a.element.setAttribute("aria-hidden","true");A.delay(function(){a.isOpen_()||(a.viewport_.removeFromFixedLayer(a.element),a.vsync_.mutate(function(){F(a.element,{display:"none"});a.schedulePause(a.getRealChildren())}))},550)});-1!=this.historyId_&&(this.getHistory_().pop(this.historyId_),this.historyId_=-1)};
J.prototype.openMask_=function(){if(!this.maskElement_){var a=this,b=this.document_.createElement("div");b.classList.add("-amp-sidebar-mask");b.addEventListener("click",function(){a.close_()});this.element.parentNode.appendChild(b);b.addEventListener("touchmove",function(a){a.preventDefault()});this.maskElement_=b}F(this.maskElement_,{display:"block"})};J.prototype.closeMask_=function(){this.maskElement_&&F(this.maskElement_,{display:"none"})};
J.prototype.fixIosElasticScrollLeak_=function(){var a=this;this.element.addEventListener("scroll",function(b){a.isOpen_()&&(1>a.element.scrollTop?(a.element.scrollTop=1,b.preventDefault()):a.element.scrollHeight==a.element.scrollTop+a.element.offsetHeight&&(--a.element.scrollTop,b.preventDefault()))})};
J.prototype.compensateIosBottombar_=function(){if(!this.bottomBarCompensated_){var a=this.document_.createElement("div");F(a,{height:"10vh",width:"100%","background-color":"transparent"});this.element.appendChild(a);this.bottomBarCompensated_=!0}};J.prototype.getHistory_=function(){return x(this.win_,"history")};AMP.registerElement("amp-sidebar",J,"amp-sidebar{position:fixed!important;top:0;max-height:100vh!important;height:100vh;max-width:80vw!important;background-color:#efefef;min-width:45px!important;overflow-x:hidden!important;overflow-y:auto!important;z-index:9999!important;-webkit-overflow-scrolling:touch}amp-sidebar[side=left]{left:0!important;-webkit-transform:translateX(-80vw)!important;transform:translateX(-80vw)!important}amp-sidebar[side=right]{right:0!important;-webkit-transform:translateX(80vw)!important;transform:translateX(80vw)!important}amp-sidebar[side][open]{-webkit-transform:translateX(0vw)!important;transform:translateX(0vw)!important}amp-sidebar[side]{-webkit-transition:-webkit-transform 0.5s ease;transition:-webkit-transform 0.5s ease;transition:transform 0.5s ease;transition:transform 0.5s ease,-webkit-transform 0.5s ease}.-amp-sidebar-mask{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;opacity:0.2;background-image:none!important;background-color:#000;z-index:9998!important;display:none}\n/*# sourceURL=/extensions/amp-sidebar/0.1/amp-sidebar.css*/");
});
//# sourceMappingURL=amp-sidebar-0.1.js.map

