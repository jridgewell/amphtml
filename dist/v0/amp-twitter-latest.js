(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function n(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(m.Object.defineProperties){var e=m.Object.getOwnPropertyDescriptor(b,d);void 0!==e&&m.Object.defineProperty(a,d,e)}else a[d]=b[d]};var p=null,q="";
function t(){if(p)return p;var a;if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,c=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),d=0;d<b.length;d++){var e=b[d],
f=e.indexOf("="),g=void 0,h=void 0;-1!=f?(g=decodeURIComponent(e.substring(0,f)).trim(),h=decodeURIComponent(e.substring(f+1)).trim()):(g=decodeURIComponent(e).trim(),h="");g&&(c[g]=h)}}q||(q=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==c.development||window.AMP_DEV_MODE,filter:c.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:c.log,version:q}}return p=a};var w=(new Date).getTime();function x(a,b,c){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=c||""}x.prototype.calcLevel_=function(){var a=t();return this.win.console&&this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};
x.prototype.msg_=function(a,b,c){if(0!=this.level_){var d=this.win.console.log;"ERROR"==b?d=this.win.console.error||d:"INFO"==b?d=this.win.console.info||d:"WARN"==b&&(d=this.win.console.warn||d);c.unshift((new Date).getTime()-w,"["+a+"]");d.apply(this.win.console,c)}};x.prototype.isEnabled=function(){return 0!=this.level_};x.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};
x.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};x.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};x.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=y.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(c);this.win.setTimeout(function(){throw c;})}};
x.prototype.createError=function(a){var b=y.apply(null,arguments);this.prepareError_(b);return b};
x.prototype.assert=function(a,b,c){var d=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),g=f,h=[];""!=f&&h.push(f);for(f=2;f<arguments.length;f++){var k=arguments[f];k&&k.tagName&&(d=k);var r=e.shift();h.push(k);var v=r.trim();""!=v&&h.push(v);k=k instanceof Element?k.tagName.toLowerCase()+(k.id?"#"+k.id:""):k;g+=k+r}e=Error(g);e.fromAssert=!0;e.associatedElement=d;e.messageArray=h;this.prepareError_(e);throw e;}return a};
x.prototype.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};x.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function y(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}
var z=new x(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b");new x(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});function B(a){return a.replace(/-([a-z])/g,function(a,c){return c.toUpperCase()})}function C(a,b){if(b.length>a.length)return!1;var c=a.length-b.length;return a.indexOf(b,c)==c};var D=window.document.createElement("a"),E=Object.create(null),F=/[?&]amp_js[^&]*/;
function G(a){var b=E[a];if(b)return b;D.href=a;var b={href:D.href,protocol:D.protocol,host:D.host,hostname:D.hostname,port:"0"==D.port?"":D.port,pathname:D.pathname,search:D.search,hash:D.hash},c;D.origin&&"null"!=D.origin?c=D.origin:(c=b,"string"==typeof c&&(c=G(c)),c="data:"!=c.protocol&&c.host?c.protocol+"//"+c.host:c.href);b.origin=c;z.assert(b.origin,"Origin must exist");E[a]=window.AMP_TEST&&Object.freeze?Object.freeze(b):b;return b};function H(a,b,c){var d=a.services;d||(d=a.services={});var e=d[b];e||(e=d[b]={obj:null,promise:null,resolve:null});e.obj||(e.obj=c(a),e.promise||(e.promise=Promise.resolve(e.obj)),e.resolve&&e.resolve(e.obj));return e.obj};function I(a){this.win=a;this.resolved_=Promise.resolve();this.taskCount_=0;this.canceled_={};this.startTime_=this.now()}I.prototype.now=function(){return Date.now()};I.prototype.timeSinceStart=function(){return this.now()-this.startTime_};I.prototype.delay=function(a,b){if(!b){var c=this,d="p"+this.taskCount_++;this.resolved_.then(function(){c.canceled_[d]?delete c.canceled_[d]:a()});return d}return this.win.setTimeout(a,b)};
I.prototype.cancel=function(a){"string"==typeof a?this.canceled_[a]=!0:this.win.clearTimeout(a)};I.prototype.promise=function(a,b){var c=this,d=null;return(new Promise(function(e,f){d=c.delay(function(){d=-1;e(b)},a);-1==d&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=d&&c.cancel(d);throw a;})};
I.prototype.timeoutPromise=function(a,b,c){var d=this,e=null,f=(new Promise(function(b,f){e=d.delay(function(){e=-1;f(z.createError(c||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&d.cancel(e);throw a;});return b?Promise.race([f,b]):f};var K=new I(window);function L(a,b,c,d){function e(a){c(a);g()}var f=d||!1,g=void 0,g=function(){a&&a.removeEventListener(b,e,f);e=a=null};a.addEventListener(b,e,f);return g}
function M(a,b){var c=void 0,d=void 0,e=new Promise(function(b,e){a.complete||"complete"==a.readyState?b(a):(c="AUDIO"===a.tagName||"VIDEO"===a.tagName?L(a,"loadstart",function(){return b(a)}):L(a,"load",function(){return b(a)}),d=L(a,"error",function(){e(z.createError("Failed HTTP request for %s.",a))}))});return N(e,function(){c&&c();d&&d()},b)}function N(a,b,c){var d=void 0,d=void 0===c?a:K.timeoutPromise(c||0,a);return b?d.then(function(a){b();return a},function(a){b();throw a;}):d};function P(a){this.navigator=a.navigator}P.prototype.isIos=function(){return/iPhone|iPad|iPod/i.test(this.navigator.userAgent)};P.prototype.isSafari=function(){return/Safari/i.test(this.navigator.userAgent)&&!this.isChrome()&&!this.isEdge()};P.prototype.isChrome=function(){return/Chrome|CriOS/i.test(this.navigator.userAgent)&&!this.isEdge()};P.prototype.isFirefox=function(){return/Firefox/i.test(this.navigator.userAgent)&&!this.isEdge()};
P.prototype.isIe=function(){return/MSIE/i.test(this.navigator.userAgent)||/IEMobile/i.test(this.navigator.userAgent)};P.prototype.isEdge=function(){return/Edge/i.test(this.navigator.userAgent)};P.prototype.isWebKit=function(){return/WebKit/i.test(this.navigator.userAgent)&&!this.isEdge()};function Q(a){return H(a,"platform",function(){return new P(a)})}Q(window);function R(a,b,c){var d=a.listeningFors;!d&&c&&(d=a.listeningFors=Object.create(null));a=d||null;if(!a)return a;d=a[b];!d&&c&&(d=a[b]=[]);return d||null}function S(a,b){for(var c=G(b.src).origin,c=R(a,c,!0),d=void 0,e=0;e<c.length;e++){var f=c[e];if(f.frame===b){d=f;break}}d||(d={frame:b,events:Object.create(null)},c.push(d));return d.events}
function T(a){for(var b={sentinel:"unlisten"},c=a.length-1;0<=c;c--){var d=a[c];if(!d.frame.contentWindow){a.splice(c,1);var d=d.events,e;for(e in d)d[e].splice(0,Infinity).forEach(function(a){a(b)})}}}
function U(a){a.listeningFors||a.addEventListener("message",function(b){if(b.data){var c;c=b.source;var d=R(a,b.origin);if(d){for(var e=void 0,f=0;f<d.length;f++){var g=d[f],h=g.frame.contentWindow;if(!h)setTimeout(T,0,d);else if(h===c){e=g;break}}c=e?e.events:null}else c=d;if(c){b=b.data;if("string"===typeof b&&"{"===b.charAt(0))try{b=JSON.parse(b)}catch(k){log.warn("Postmessage could not be parsed. Is it in a valid JSON format?",k)}if(c=c[b.type])for(c=c.slice(),d=0;d<c.length;d++)(0,c[d])(b)}}})}
function aa(a,b,c,d){function e(a){"unlisten"==a.sentinel?k():a.sentinel==g&&c(a)}var f=a.ownerDocument.defaultView;U(f);a=S(f,a);var g=d?"amp-5ece11a3f055ead22ca35531763046ffb704f1193dec88a9257ebfe91dc7982c":"amp",h=a[b]||(a[b]=[]),k=void 0;h.push(e);return k=function(){if(e){var a=h.indexOf(e);-1<a&&h.splice(a,1);c=h=e=null}}};function V(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c}};function ba(a){return H(a,"documentInfo",function(){var b=G(z.assert(a.document.querySelector("link[rel=canonical]"),"AMP files are required to have a <link rel=canonical> tag.").href).href,c=String(Math.floor(1E4*a.Math.random())),d;d=a.location.href;"string"==typeof d&&(d=G(d));var e=d;"string"==typeof e&&(e=G(e));var f=e.pathname.split("/")[1];if("https://cdn.ampproject.org"!=e.origin&&(0!=e.origin.indexOf("http://localhost:")||"c"!=f&&"v"!=f))d=d.href;else{e=d.pathname.split("/");f=e[1];z.assert("c"==
f||"v"==f,"Unknown path prefix in url %s",d.href);var f=e[2],g="s"==f?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(f);z.assert(0<g.indexOf("."),"Expected a . in origin %s",g);e.splice(1,"s"==f?3:2);e=g+e.join("/");f=(f=d.search)&&"?"!=f?(f=f.replace(F,"").replace(/^[?&]/,""))?"?"+f:"":"";d=e+f+(d.hash||"")}return{canonicalUrl:b,pageViewId:c,sourceUrl:d}})};function W(a){this.document_=a.document;this.head_=a.document.head;this.origins_={};this.urls_={};this.platform_=Q(a);this.origins_[G(a.location.href).origin]=!0;this.preloadSupported_=this.isPreloadSupported_()}
W.prototype.url=function(a,b){if(this.isInterestingUrl_(a)){var c=G(a).origin,d=K.now(),e=this.origins_[c];if(e&&d<e)b&&(this.origins_[c]=d+18E4);else{this.origins_[c]=d+(b?18E4:1E4);var f=this.document_.createElement("link");f.setAttribute("rel","dns-prefetch");f.setAttribute("href",c);var g=this.document_.createElement("link");g.setAttribute("rel","preconnect");g.setAttribute("href",c);this.head_.appendChild(f);this.head_.appendChild(g);K.delay(function(){f.parentNode&&f.parentNode.removeChild(f);
g.parentNode&&g.parentNode.removeChild(g)},1E4);this.preconnectPolyfill_(c)}}};W.prototype.prefetch=function(a,b){if(this.isInterestingUrl_(a)&&!this.urls_[a]){var c=this.preloadSupported_?"preload":"prefetch";this.urls_[a]=!0;this.url(a,!0);var d=this.document_.createElement("link");d.setAttribute("rel",c);d.setAttribute("href",a);b&&d.setAttribute("as",b);this.head_.appendChild(d)}};W.prototype.isInterestingUrl_=function(a){return 0==a.indexOf("https:")||0==a.indexOf("http:")?!0:!1};
W.prototype.isPreloadSupported_=function(){var a=this.document_.createElement("link").relList;return a&&a.supports?this.preloadSupported_=a.supports("preload"):this.preloadSupported_=!1};W.prototype.preconnectPolyfill_=function(a){if(this.platform_.isSafari()){this.origins_[a]=K.now()+18E4;var b=new XMLHttpRequest;b.open("HEAD",a+"/amp_preconnect_polyfill_404_or_other_error_expected._Do_not_worry_about_it?"+Math.random(),!0);b.send()}};
function ca(a){return H(a,"preconnect",function(){return new W(a)})};var X={};
function da(a,b,c){var d=K.now(),e=b.getAttribute("width"),f=b.getAttribute("height"),g=c||b.getAttribute("type");z.assert(g,"Attribute type required for <amp-ad>: %s",b);c={};for(var h=0;h<b.attributes.length;h++){var k=b.attributes[h];0==k.name.indexOf("data-")&&(c[B(k.name.substr(5))]=k.value)}if(h=b.getAttribute("json")){k=void 0;try{k=JSON.parse(h)}catch(ha){throw z.createError("Error parsing JSON in json attribute in element %s",b);}for(var r in k)c[r]=k[r]}c.width=parseFloat(e);c.height=parseFloat(f);
c.type=g;r=ba(a);var v=H(a,"viewer"),h=a.location.href;"about:srcdoc"==h&&(h=a.parent.location.href);e=v.getUnconfirmedReferrerUrl();f=r.canonicalUrl;r=r.pageViewId;var g=b.getAttribute("ampcid"),h={href:h},k=b.tagName,ea=t(),v=!v.isVisible(),fa=K.now();a=H(a,"viewport").getRect();var l=b.getLayoutBox();a.x=a.left;a.y=a.top;var u=-1*a.x,A=-1*a.y,u=0==u&&0==A?l:V(l.left+u,l.top+A,l.width,l.height);u.x=u.left;u.y=u.top;a:{var A=Math.max(a.left,l.left),O=Math.min(a.left+a.width,l.left+l.width);if(A<=
O){var J=Math.max(a.top,l.top),l=Math.min(a.top+a.height,l.top+l.height);if(J<=l){l=V(A,J,O-A,l-J);break a}}l=null}l=l||V(0,0,0,0);l.x=l.left;l.y=l.top;c._context={referrer:e,canonicalUrl:f,pageViewId:r,clientId:g,location:h,tagName:k,mode:ea,hidden:v,initialIntersection:{time:fa,rootBounds:a,boundingClientRect:u,intersectionRect:l},startTime:d};if(b=b.getAttribute("src"))c.src=b;return c}
function ga(a,b,c){b=da(a,b,c);c=a.document.createElement("iframe");X[b.type]||(X[b.type]=0);var d=Y(a);a=G(d).hostname;d=d+"#"+JSON.stringify(b);a=a+"_"+b.type+"_"+X[b.type]++;c.src=d;c.name=a;c.ampLocation=G(d);c.width=b.width;c.height=b.height;c.style.border="none";c.setAttribute("scrolling","no");c.onload=function(){this.readyState="complete"};return c}
function Y(a,b){return H(window,"bootstrapBaseUrl",function(){var c;if(c=a.document.querySelector('meta[name="amp-3p-iframe-src"]')){var d=c.getAttribute("content");z.assert(null!=d,"%s source must be available",c);var e=G(d);z.assert("https:"==e.protocol||/^(\/\/)/.test(d)||"localhost"==e.hostname||C(e.hostname,".localhost"),'%s source must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',c,d);z.assert(-1==d.indexOf("?"),"3p iframe url must not include query string %s in element %s.",
d,c);e=G(d);z.assert("localhost"==e.hostname&&!b||e.origin!=G(a.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.",d,e.origin,c);c=d+"?1463506055389"}else c=null;c||(t().localDev?c="http://ads.localhost:"+(a.location.port||a.parent.location.port)+"/dist.3p/current"+(t().minified?"-min/frame":"/frame.max")+".html":(c=void 0,
a.crypto&&a.crypto.getRandomValues?(c=new Uint32Array(2),a.crypto.getRandomValues(c),c=String(c[0])+c[1]):c=String(a.Math.random()).substr(2)+"0",c="https://d-"+c+".ampproject.net/1463506055389/frame.html"));return c})};function Z(a){AMP.BaseElement.apply(this,arguments)}n(Z,AMP.BaseElement);Z.prototype.preconnectCallback=function(a){this.preconnect.url("https://syndication.twitter.com",a);this.preconnect.url("https://pbs.twimg.com",a);this.preconnect.prefetch("https://platform.twitter.com/widgets.js","script");var b=this.getWin();a=Y(b);b=ca(b);b.prefetch(a,"document");b.prefetch("https://3p.ampproject.net/1463506055389/f.js","script")};
Z.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};Z.prototype.firstLayoutCompleted=function(){};
Z.prototype.layoutCallback=function(){var a=this,b=ga(this.element.ownerDocument.defaultView,this.element,"twitter");this.applyFillContent(b);aa(b,"embed-size",function(c){a.togglePlaceholder(!1);b.height=c.height;b.width=c.width;var d=b.parentElement;d.setAttribute("height",c.height);d.setAttribute("width",c.width);a.changeHeight(c.height)},!0);this.element.appendChild(b);return M(b)};AMP.registerElement("amp-twitter",Z);
});
//# sourceMappingURL=amp-twitter-0.1.js.map

