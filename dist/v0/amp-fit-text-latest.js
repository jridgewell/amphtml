(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(k.Object.defineProperties){var e=k.Object.getOwnPropertyDescriptor(b,d);void 0!==e&&k.Object.defineProperty(a,d,e)}else a[d]=b[d]};var p=null,q="";var r=(new Date).getTime();function t(a,b,c){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=c||""}
t.prototype.calcLevel_=function(){var a;if(p)a=p;else{if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,c=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),d=0;d<b.length;d++){var e=
b[d],g=e.indexOf("="),h=void 0,l=void 0;-1!=g?(h=decodeURIComponent(e.substring(0,g)).trim(),l=decodeURIComponent(e.substring(g+1)).trim()):(h=decodeURIComponent(e).trim(),l="");h&&(c[h]=l)}}q||(q=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==c.development||window.AMP_DEV_MODE,filter:c.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:c.log,version:q}}a=p=a}return this.win.console&&
this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};t.prototype.msg_=function(a,b,c){if(0!=this.level_){var d=this.win.console.log;"ERROR"==b?d=this.win.console.error||d:"INFO"==b?d=this.win.console.info||d:"WARN"==b&&(d=this.win.console.warn||d);c.unshift((new Date).getTime()-r,"["+a+"]");d.apply(this.win.console,c)}};t.prototype.isEnabled=function(){return 0!=this.level_};
t.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};t.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};t.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};
t.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=u.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(c);this.win.setTimeout(function(){throw c;})}};t.prototype.createError=function(a){var b=u.apply(null,arguments);this.prepareError_(b);return b};
t.prototype.assert=function(a,b,c){var d=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),g=e.shift(),h=g,l=[];""!=g&&l.push(g);for(g=2;g<arguments.length;g++){var f=arguments[g];f&&f.tagName&&(d=f);var n=e.shift();l.push(f);var v=n.trim();""!=v&&l.push(v);f=f instanceof Element?f.tagName.toLowerCase()+(f.id?"#"+f.id:""):f;h+=f+n}e=Error(h);e.fromAssert=!0;e.associatedElement=d;e.messageArray=l;this.prepareError_(e);throw e;}return a};
t.prototype.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};t.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function u(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}
new t(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b");new t(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});var w=Object.create(null),x="Webkit webkit Moz moz ms O o".split(" ");function y(a,b){for(var c in b){var d=a,e=b[c],g;g=d.style;var h=w[c];if(!h){h=c;if(void 0===g[c]){var l=c.charAt(0).toUpperCase()+c.slice(1),f=void 0;a:{for(f=0;f<x.length;f++){var n=x[f]+l;if(void 0!==g[n]){f=n;break a}}f=""}l=f;void 0!==g[l]&&(h=l)}w[c]=h}(g=h)&&(d.style[g]=e)}};function z(a){return parseFloat(a)};function A(a){AMP.BaseElement.apply(this,arguments)}m(A,AMP.BaseElement);A.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};A.prototype.isReadyToBuild=function(){return null!=this.element.firstChild};
A.prototype.buildCallback=function(){var a=this;this.content_=this.element.ownerDocument.createElement("div");this.applyFillContent(this.content_);this.content_.classList.add("-amp-fit-text-content");y(this.content_,{zIndex:2});this.contentWrapper_=this.element.ownerDocument.createElement("div");y(this.contentWrapper_,{lineHeight:"1.15em"});this.content_.appendChild(this.contentWrapper_);this.measurer_=this.element.ownerDocument.createElement("div");y(this.measurer_,{position:"absolute",top:0,left:0,
right:0,zIndex:1,visibility:"hidden",lineHeight:"1.15em"});this.getRealChildNodes().forEach(function(b){a.contentWrapper_.appendChild(b)});this.measurer_.innerHTML=this.contentWrapper_.innerHTML;this.element.appendChild(this.content_);this.element.appendChild(this.measurer_);this.minFontSize_=z(this.element.getAttribute("min-font-size"))||6;this.maxFontSize_=z(this.element.getAttribute("max-font-size"))||72};A.prototype.prerenderAllowed=function(){return!0};A.prototype.isRelayoutNeeded=function(){return!0};
A.prototype.layoutCallback=function(){this.updateFontSize_();return Promise.resolve()};
A.prototype.updateFontSize_=function(){var a=this.element.offsetHeight,b=this.measurer_,c=this.minFontSize_,d=this.maxFontSize_;for(d++;1<d-c;){var e=Math.floor((c+d)/2);b.style.fontSize=e+"px";b.offsetHeight>a?d=e:c=e}d=c;this.contentWrapper_.style.fontSize=d+"px";b=this.contentWrapper_;c=this.measurer_;c.style.fontSize=d+"px";c=c.offsetHeight>a;d*=1.15;a=Math.floor(a/d);b.classList.toggle("-amp-fit-text-content-overflown",c);y(b,{lineClamp:c?a:"",maxHeight:c?d*a+"px":""})};
AMP.registerElement("amp-fit-text",A,".-amp-fit-text-content,.-amp-fit-text-content.-amp-fill-content{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.-amp-fit-text-content-overflown{display:block;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}\n/*# sourceURL=/extensions/amp-fit-text/0.1/amp-fit-text.css*/");
});
//# sourceMappingURL=amp-fit-text-0.1.js.map

