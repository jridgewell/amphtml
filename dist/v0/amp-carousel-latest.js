(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function k(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(h.Object.defineProperties){var e=h.Object.getOwnPropertyDescriptor(b,d);void 0!==e&&h.Object.defineProperty(a,d,e)}else a[d]=b[d]};var l=null,m="";var aa=(new Date).getTime();function p(a,b,c){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=c||""}
p.prototype.calcLevel_=function(){var a;if(l)a=l;else{if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,c=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),d=0;d<b.length;d++){var e=
b[d],f=e.indexOf("="),g=void 0,n=void 0;-1!=f?(g=decodeURIComponent(e.substring(0,f)).trim(),n=decodeURIComponent(e.substring(f+1)).trim()):(g=decodeURIComponent(e).trim(),n="");g&&(c[g]=n)}}m||(m=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==c.development||window.AMP_DEV_MODE,filter:c.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:c.log,version:m}}a=l=a}return this.win.console&&
this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};p.prototype.msg_=function(a,b,c){if(0!=this.level_){var d=this.win.console.log;"ERROR"==b?d=this.win.console.error||d:"INFO"==b?d=this.win.console.info||d:"WARN"==b&&(d=this.win.console.warn||d);c.unshift((new Date).getTime()-aa,"["+a+"]");d.apply(this.win.console,c)}};p.prototype.isEnabled=function(){return 0!=this.level_};
p.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};p.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};p.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};
p.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=q.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(c);this.win.setTimeout(function(){throw c;})}};p.prototype.createError=function(a){var b=q.apply(null,arguments);this.prepareError_(b);return b};
p.prototype.assert=function(a,b,c){var d=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),g=f,n=[];""!=f&&n.push(f);for(f=2;f<arguments.length;f++){var t=arguments[f];t&&t.tagName&&(d=t);var P=e.shift();n.push(t);var Q=P.trim();""!=Q&&n.push(Q);t=t instanceof Element?t.tagName.toLowerCase()+(t.id?"#"+t.id:""):t;g+=t+P}e=Error(g);e.fromAssert=!0;e.associatedElement=d;e.messageArray=n;this.prepareError_(e);throw e;}return a};
p.prototype.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};p.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function q(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}
var r=new p(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b"),u=new p(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});function v(a,b,c){var d=a.services;d||(d=a.services={});var e=d[b];e||(e=d[b]={obj:null,promise:null,resolve:null});e.obj||(e.obj=c(a),e.promise||(e.promise=Promise.resolve(e.obj)),e.resolve&&e.resolve(e.obj));return e.obj};function w(a){this.win=a;this.resolved_=Promise.resolve();this.taskCount_=0;this.canceled_={};this.startTime_=this.now()}w.prototype.now=function(){return Date.now()};w.prototype.timeSinceStart=function(){return this.now()-this.startTime_};w.prototype.delay=function(a,b){if(!b){var c=this,d="p"+this.taskCount_++;this.resolved_.then(function(){c.canceled_[d]?delete c.canceled_[d]:a()});return d}return this.win.setTimeout(a,b)};
w.prototype.cancel=function(a){"string"==typeof a?this.canceled_[a]=!0:this.win.clearTimeout(a)};w.prototype.promise=function(a,b){var c=this,d=null;return(new Promise(function(e,f){d=c.delay(function(){d=-1;e(b)},a);-1==d&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=d&&c.cancel(d);throw a;})};
w.prototype.timeoutPromise=function(a,b,c){var d=this,e=null,f=(new Promise(function(b,f){e=d.delay(function(){e=-1;f(r.createError(c||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&d.cancel(e);throw a;});return b?Promise.race([f,b]):f};var x=new w(window);var y=Object.create(null),z="Webkit webkit Moz moz ms O o".split(" ");function A(a,b,c){var d=y[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<z.length;f++){var g=z[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}void 0!==a[e]&&(d=e)}c||(y[b]=d)}return d}function B(a,b){for(var c in b){var d=a,e=b[c],f=A(d.style,c,void 0);f&&(d.style[f]=e)}}function C(a){return"string"==typeof a?"translateX("+a+")":"translateX("+(a+"px")+")"};function D(){this.handlers_=[]}D.prototype.add=function(a){var b=this;this.handlers_.push(a);return function(){b.remove(a)}};D.prototype.remove=function(a){for(var b=0;b<this.handlers_.length;b++)if(a==this.handlers_[b]){this.handlers_.splice(b,1);break}};D.prototype.fire=function(a){this.handlers_.forEach(function(b){b(a)})};D.prototype.getHandlerCount=function(){return this.handlers_.length};function ba(){}var ca=Math.round(-16.67/Math.log(.95));function E(a,b,c){1>b&&(b=1);var d=.5+Math.min(b/33.34,.5);return a/b*d+c*(1-d)}function da(a,b,c,d,e,f){return(new F(a,b,c,d,e,f)).start_()}function F(a,b,c,d,e,f){var g=this;this.vsync_=f||v(window,"vsync");this.callback_=e;this.lastX_=a;this.lastY_=b;this.maxVelocityX_=c;this.maxVelocityY_=d;this.velocityY_=this.velocityX_=0;this.lastTime_=this.startTime_=x.now();this.promise_=new Promise(function(a,b){g.resolve_=a;g.reject_=b})}
F.prototype.start_=function(){this.continuing_=!0;.02>=Math.abs(this.maxVelocityX_)&&.02>=Math.abs(this.maxVelocityY_)?(this.fireMove_(),this.completeContinue_(!0)):this.runContinuing_();return this};F.prototype.halt=function(){this.continuing_&&this.completeContinue_(!1)};F.prototype.then=function(a,b){return a||b?this.promise_.then(a,b):this.promise_};F.prototype.thenAlways=function(a){a=a||ba;return this.then(a,a)};
F.prototype.runContinuing_=function(){this.velocityX_=this.maxVelocityX_;this.velocityY_=this.maxVelocityY_;var a=this.stepContinue_.bind(this),b=this.completeContinue_.bind(this,!0);return this.vsync_.runAnimMutateSeries(a,5E3).then(b,b)};
F.prototype.stepContinue_=function(a,b){if(!this.continuing_)return!1;this.lastTime_=x.now();this.lastX_+=b*this.velocityX_;this.lastY_+=b*this.velocityY_;if(!this.fireMove_())return!1;var c=Math.exp(-a/ca);this.velocityX_=this.maxVelocityX_*c;this.velocityY_=this.maxVelocityY_*c;return.02<Math.abs(this.velocityX_)||.02<Math.abs(this.velocityY_)};F.prototype.completeContinue_=function(a){this.continuing_&&(this.continuing_=!1,this.lastTime_=x.now(),this.fireMove_(),a?this.resolve_():this.reject_())};
F.prototype.fireMove_=function(){return this.callback_(this.lastX_,this.lastY_)};function G(a,b,c,d){a=new H(0,0,a,b,c,d,1,1);return a.solveYValueFromXValue.bind(a)}function H(a,b,c,d,e,f,g,n){this.x0=a;this.y0=b;this.x1=c;this.y1=d;this.x2=e;this.y2=f;this.x3=g;this.y3=n}H.prototype.solveYValueFromXValue=function(a){return this.getPointY(this.solvePositionFromXValue(a))};
H.prototype.solvePositionFromXValue=function(a){var b=(a-this.x0)/(this.x3-this.x0);if(0>=b)return 0;if(1<=b)return 1;for(var c=0,d=1,e=0;8>e;e++){var f=this.getPointX(b),g=(this.getPointX(b+1E-6)-f)/1E-6;if(1E-6>Math.abs(f-a))return b;if(1E-6>Math.abs(g))break;else f<a?c=b:d=b,b-=(f-a)/g}for(e=0;1E-6<Math.abs(value-a)&&8>e;e++)value<a?(c=b,b=(b+d)/2):(d=b,b=(b+c)/2),value=this.getPointX(b);return b};
H.prototype.getPointX=function(a){if(0==a)return this.x0;if(1==a)return this.x3;var b=this.lerp(this.x0,this.x1,a),c=this.lerp(this.x1,this.x2,a),d=this.lerp(this.x2,this.x3,a),b=this.lerp(b,c,a),c=this.lerp(c,d,a);return this.lerp(b,c,a)};H.prototype.getPointY=function(a){if(0==a)return this.y0;if(1==a)return this.y3;var b=this.lerp(this.y0,this.y1,a),c=this.lerp(this.y1,this.y2,a),d=this.lerp(this.y2,this.y3,a),b=this.lerp(b,c,a),c=this.lerp(c,d,a);return this.lerp(b,c,a)};
H.prototype.lerp=function(a,b,c){return a+c*(b-a)};var ea=G(.25,.1,.25,1),fa=G(.42,0,1,1),ga=G(0,0,.58,1),ha=G(.42,0,.58,1),I={linear:function(a){return a},ease:ea,"ease-in":fa,"ease-out":ga,"ease-in-out":ha};function ia(){}function J(a){this.vsync_=a||v(window,"vsync");this.curve_=null;this.segments_=[]}function K(a,b,c){return(new J).setCurve(c).add(0,a,1).start(b)}J.prototype.setCurve=function(a){this.curve_=a?"string"==typeof a?I[a]:a:null;return this};J.prototype.add=function(a,b,c,d){this.segments_.push({delay:a,func:b,duration:c,curve:d?"string"==typeof d?I[d]:d:null});return this};J.prototype.start=function(a){a=new L(this.vsync_,this.segments_,this.curve_,a);a.start_();return a};
function L(a,b,c,d){var e=this;this.vsync_=a;this.segments_=[];for(a=0;a<b.length;a++){var f=b[a];this.segments_.push({delay:f.delay,func:f.func,duration:f.duration,curve:f.curve||c,started:!1,completed:!1})}this.duration_=d;this.normTime_=this.normLinearTime_=this.startTime_=0;this.running_=!1;this.state_={};this.promise_=new Promise(function(a,b){e.resolve_=a;e.reject_=b});this.task_=this.vsync_.createAnimTask({mutate:this.stepMutate_.bind(this)})}
L.prototype.then=function(a,b){return a||b?this.promise_.then(a,b):this.promise_};L.prototype.thenAlways=function(a){a=a||ia;return this.then(a,a)};L.prototype.halt=function(a){this.complete_(!1,a||0)};L.prototype.start_=function(){this.startTime_=x.now();this.running_=!0;this.vsync_.canAnimate()?this.task_(this.state_):(u.warn("Animation","cannot animate"),this.complete_(!1,0))};
L.prototype.complete_=function(a,b){if(this.running_){this.running_=!1;if(0!=b){1<this.segments_.length&&this.segments_.sort(function(a,b){return a.delay+a.duration-(b.delay+b.duration)});try{if(0<b)for(var c=0;c<this.segments_.length;c++)this.segments_[c].func(1,!0);else for(c=this.segments_.length-1;0<=c;c--)this.segments_[c].func(0,!1)}catch(d){u.error("Animation","completion failed: "+d,d),a=!1}}a?this.resolve_():this.reject_()}};
L.prototype.stepMutate_=function(){if(this.running_){for(var a=x.now(),a=Math.min((a-this.startTime_)/this.duration_,1),b=0;b<this.segments_.length;b++){var c=this.segments_[b];!c.started&&a>=c.delay&&(c.started=!0)}for(b=0;b<this.segments_.length;b++)c=this.segments_[b],c.started&&!c.completed&&this.mutateSegment_(c,a);1==a?this.complete_(!0,0):this.vsync_.canAnimate()?this.task_(this.state_):(u.warn("Animation","cancel animation"),this.complete_(!1,0))}};
L.prototype.mutateSegment_=function(a,b){var c=void 0,d=void 0;if(0<a.duration){if(d=c=Math.min((b-a.delay)/a.duration,1),a.curve&&1!=d)try{d=a.curve(c)}catch(e){u.error("Animation","step curve failed: "+e,e);this.complete_(!1,0);return}}else d=c=1;1==c&&(a.completed=!0);try{a.func(d,a.completed)}catch(e){u.error("Animation","step mutate failed: "+e,e),this.complete_(!1,0)}};function M(){return null}function ja(a){return function(b,c){for(var d=0;d<a.length;d++)(0,a[d])(b,c)}}function N(a,b){return function(c,d){for(var e in b){var f=a,g=b[e](c,d),n=A(f.style,e,void 0);n&&(f.style[n]=g)}}}function O(a,b){return function(c){return a+(b-a)*c}}function R(a){return function(b){b=a(b);return"string"==typeof b?"translateX("+b+")":"translateX("+b+"px)"}}function ka(a){return function(b){return"scale("+a(b)+")"}};function S(a){AMP.BaseElement.apply(this,arguments)}k(S,AMP.BaseElement);S.prototype.buildCallback=function(){this.buildCarousel();this.buildButtons();this.setupGestures();this.setControlsState();(this.showControls_=this.element.hasAttribute("controls"))&&this.element.classList.add("-amp-carousel-has-controls")};
S.prototype.buildButtons=function(){var a=this;this.prevButton_=this.element.ownerDocument.createElement("div");this.prevButton_.classList.add("amp-carousel-button");this.prevButton_.classList.add("amp-carousel-button-prev");this.prevButton_.setAttribute("role","button");this.prevButton_.setAttribute("aria-label","previous");this.prevButton_.onclick=function(){a.interactionPrev()};this.element.appendChild(this.prevButton_);this.nextButton_=this.element.ownerDocument.createElement("div");this.nextButton_.classList.add("amp-carousel-button");
this.nextButton_.classList.add("amp-carousel-button-next");this.nextButton_.setAttribute("role","button");this.nextButton_.setAttribute("aria-label","next");this.nextButton_.onclick=function(){a.interactionNext()};this.element.appendChild(this.nextButton_)};S.prototype.prerenderAllowed=function(){return!0};S.prototype.isRelayoutNeeded=function(){return!0};S.prototype.buildCarousel=function(){};S.prototype.setupGestures=function(){};S.prototype.go=function(a,b){this.goCallback(a,b)};
S.prototype.goCallback=function(){};S.prototype.setControlsState=function(){this.prevButton_.classList.toggle("amp-disabled",!this.hasPrev());this.prevButton_.setAttribute("aria-disabled",!this.hasPrev());this.nextButton_.classList.toggle("amp-disabled",!this.hasNext());this.nextButton_.setAttribute("aria-disabled",!this.hasNext())};
S.prototype.hintControls=function(){var a=this;!this.showControls_&&this.isInViewport()&&this.getVsync().mutate(function(){a.element.classList.add("-amp-carousel-button-start-hint");x.delay(function(){a.deferMutate(function(){return a.element.classList.remove("-amp-carousel-button-start-hint")})},1E3)})};S.prototype.isReadyToBuild=function(){return!1};S.prototype.unlayoutCallback=function(){return!0};S.prototype.hasPrev=function(){};S.prototype.hasNext=function(){};
S.prototype.interactionNext=function(){this.nextButton_.classList.contains("amp-disabled")||this.go(1,!0)};S.prototype.interactionPrev=function(){this.prevButton_.classList.contains("amp-disabled")||this.go(-1,!0)};function T(a,b){this.handler_=a;this.defaultDelay_=b||0;this.scheduled_=-1;this.nextTime_=0;this.running_=!1}T.prototype.isPending=function(){return-1!=this.scheduled_};
T.prototype.schedule=function(a){a=a||this.defaultDelay_;this.running_&&10>a&&(a=10);var b=x.now()+a;if(-1==this.scheduled_||-10>b-this.nextTime_){var c=this;-1!=this.scheduled_&&x.cancel(this.scheduled_);this.nextTime_=b;this.scheduled_=x.delay(function(){c.scheduled_=-1;c.nextTime_=0;c.running_=!0;c.handler_();c.running_=!1},a);return!0}return!1};T.prototype.cancel=function(){-1!=this.scheduled_&&(x.cancel(this.scheduled_),this.scheduled_=-1)};function la(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}
function U(a){this.element_=a;this.recognizers_=[];this.tracking_=[];this.ready_=[];this.pending_=[];this.eventing_=null;this.wasEventing_=!1;this.pass_=new T(this.doPass_.bind(this));this.pointerDownObservable_=new D;this.overservers_=Object.create(null);this.boundOnTouchStart_=this.onTouchStart_.bind(this);this.boundOnTouchEnd_=this.onTouchEnd_.bind(this);this.boundOnTouchMove_=this.onTouchMove_.bind(this);this.boundOnTouchCancel_=this.onTouchCancel_.bind(this);this.element_.addEventListener("touchstart",
this.boundOnTouchStart_);this.element_.addEventListener("touchend",this.boundOnTouchEnd_);this.element_.addEventListener("touchmove",this.boundOnTouchMove_);this.element_.addEventListener("touchcancel",this.boundOnTouchCancel_)}function ma(a){var b=a.__AMP_Gestures;b||(b=new U(a),a.__AMP_Gestures=b);return b}
U.prototype.cleanup=function(){this.element_.removeEventListener("touchstart",this.boundOnTouchStart_);this.element_.removeEventListener("touchend",this.boundOnTouchEnd_);this.element_.removeEventListener("touchmove",this.boundOnTouchMove_);this.element_.removeEventListener("touchcancel",this.boundOnTouchCancel_);this.pass_.cancel()};U.prototype.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.overservers_[d];e||(this.recognizers_.push(c),e=new D,this.overservers_[d]=e);return e.add(b)};
U.prototype.onPointerDown=function(a){return this.pointerDownObservable_.add(a)};U.prototype.onTouchStart_=function(a){var b=x.now();this.wasEventing_=!1;this.pointerDownObservable_.fire(a);for(var c=0;c<this.recognizers_.length;c++)this.ready_[c]||(this.pending_[c]&&this.pending_[c]<b&&this.stopTracking_(c),this.recognizers_[c].onTouchStart(a)&&this.startTracking_(c));this.afterEvent_(a)};
U.prototype.onTouchMove_=function(a){for(var b=x.now(),c=0;c<this.recognizers_.length;c++)this.tracking_[c]&&(this.pending_[c]&&this.pending_[c]<b?this.stopTracking_(c):this.recognizers_[c].onTouchMove(a)||this.stopTracking_(c));this.afterEvent_(a)};
U.prototype.onTouchEnd_=function(a){for(var b=x.now(),c=0;c<this.recognizers_.length;c++)this.tracking_[c]&&(this.pending_[c]&&this.pending_[c]<b?this.stopTracking_(c):(this.recognizers_[c].onTouchEnd(a),(!this.pending_[c]||this.pending_[c]<b)&&this.stopTracking_(c)));this.afterEvent_(a)};U.prototype.onTouchCancel_=function(a){for(var b=0;b<this.recognizers_.length;b++)this.cancelEventing_(b);this.afterEvent_(a)};
U.prototype.signalReady_=function(a,b){if(this.eventing_)a.acceptCancel();else{for(var c=x.now(),d=0;d<this.recognizers_.length;d++)this.recognizers_[d]==a&&(this.ready_[d]=c+b,this.pending_[d]=0);this.passAfterEvent_=!0}};U.prototype.signalPending_=function(a,b){if(this.eventing_)a.acceptCancel();else for(var c=x.now(),d=0;d<this.recognizers_.length;d++)this.recognizers_[d]==a&&(this.pending_[d]=c+b)};U.prototype.signalEnd_=function(a){this.eventing_==a&&(this.eventing_=null,this.wasEventing_=!0)};
U.prototype.signalEmit_=function(a,b,c){var d=this.overservers_[a.getType()];d&&d.fire(new la(a.getType(),b,x.now(),c))};U.prototype.afterEvent_=function(a){var b=!!this.eventing_||this.wasEventing_;this.wasEventing_=!1;if(!b)for(var c=x.now(),d=0;d<this.recognizers_.length;d++)if(this.ready_[d]||this.pending_[d]&&this.pending_[d]>=c){b=!0;break}b&&(a.stopPropagation(),a.preventDefault());this.passAfterEvent_&&(this.passAfterEvent_=!1,this.doPass_())};
U.prototype.doPass_=function(){for(var a=x.now(),b=-1,c=0;c<this.recognizers_.length;c++)if(!this.ready_[c])this.pending_[c]&&this.pending_[c]<a&&this.stopTracking_(c);else if(-1==b||this.ready_[c]>this.ready_[b])b=c;if(-1!=b){for(var d=c=0;d<this.recognizers_.length;d++)!this.ready_[d]&&this.tracking_[d]&&(c=Math.max(c,this.pending_[d]-a));2>c?this.startEventing_(b):this.pass_.schedule(c)}};
U.prototype.startEventing_=function(a){for(var b=this.recognizers_[a],c=0;c<this.recognizers_.length;c++)c!=a&&this.cancelEventing_(c);this.ready_[a]=0;this.pending_[a]=0;this.eventing_=b;b.acceptStart()};U.prototype.startTracking_=function(a){this.tracking_[a]=!0;this.pending_[a]=0};U.prototype.stopTracking_=function(a){this.tracking_[a]=!1;this.pending_[a]=0;this.ready_[a]||this.recognizers_[a].acceptCancel()};U.prototype.cancelEventing_=function(a){this.ready_[a]=0;this.stopTracking_(a)};
function V(a,b){this.type_=a;this.manager_=b}V.prototype.getType=function(){return this.type_};V.prototype.signalReady=function(a){this.manager_.signalReady_(this,a)};V.prototype.signalPending=function(a){this.manager_.signalPending_(this,a)};V.prototype.signalEnd=function(){this.manager_.signalEnd_(this)};V.prototype.signalEmit=function(a,b){this.manager_.signalEmit_(this,a,b)};V.prototype.acceptStart=function(){};V.prototype.acceptCancel=function(){};V.prototype.onTouchStart=function(){return!1};
V.prototype.onTouchMove=function(){return!1};V.prototype.onTouchEnd=function(){};function W(a,b,c,d){V.call(this,a,b);this.horiz_=c;this.vert_=d;this.eventing_=!1;this.velocityY_=this.velocityX_=this.prevTime_=this.lastTime_=this.startTime_=this.prevY_=this.prevX_=this.lastY_=this.lastX_=this.startY_=this.startX_=0}k(W,V);W.prototype.onTouchStart=function(a){a=a.touches;if(!a||1!=a.length)return!1;this.startTime_=x.now();this.startX_=a[0].clientX;this.startY_=a[0].clientY;return!0};
W.prototype.onTouchMove=function(a){var b=a.changedTouches||a.touches;if(b&&1==b.length){var c=b[0].clientX,b=b[0].clientY;this.lastX_=c;this.lastY_=b;if(this.eventing_)this.emit_(!1,!1,a);else if(a=Math.abs(c-this.startX_),c=Math.abs(b-this.startY_),this.horiz_&&this.vert_)(8<=a||8<=c)&&this.signalReady(-10);else if(this.horiz_)if(8<=a&&a>c)this.signalReady(-10);else{if(8<=c)return!1}else if(this.vert_)if(8<=c&&c>a)this.signalReady(-10);else{if(8<=a)return!1}else return!1}return!0};
W.prototype.onTouchEnd=function(a){this.end_(a)};W.prototype.acceptStart=function(){this.eventing_=!0;this.prevX_=this.startX_;this.prevY_=this.startY_;this.prevTime_=this.startTime_;this.startX_=this.lastX_;this.startY_=this.lastY_;this.emit_(!0,!1,null)};W.prototype.acceptCancel=function(){this.eventing_=!1};
W.prototype.emit_=function(a,b,c){this.lastTime_=x.now();var d=this.lastTime_-this.prevTime_;if(!b&&4<d||b&&16<d)this.velocityX_=E(this.lastX_-this.prevX_,d,this.velocityX_),this.velocityY_=E(this.lastY_-this.prevY_,d,this.velocityY_),this.velocityX_=1E-4<Math.abs(this.velocityX_)?this.velocityX_:0,this.velocityY_=1E-4<Math.abs(this.velocityY_)?this.velocityY_:0,this.prevX_=this.lastX_,this.prevY_=this.lastY_,this.prevTime_=this.lastTime_;this.signalEmit({first:a,last:b,time:this.lastTime_,deltaX:this.horiz_?
this.lastX_-this.startX_:0,deltaY:this.vert_?this.lastY_-this.startY_:0,velocityX:this.horiz_?this.velocityX_:0,velocityY:this.vert_?this.velocityY_:0},c)};W.prototype.end_=function(a){this.eventing_&&(this.eventing_=!1,this.emit_(!1,!0,a),this.signalEnd())};function X(a){W.call(this,"swipe-x",a,!0,!1)}k(X,W);function Y(a){S.apply(this,arguments)}k(Y,S);Y.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a};
Y.prototype.buildCarousel=function(){var a=this;this.pos_=0;this.cells_=this.getRealChildren();this.container_=this.element.ownerDocument.createElement("div");B(this.container_,{whiteSpace:"nowrap",position:"absolute",zIndex:1,top:0,left:0,bottom:0});this.element.appendChild(this.container_);this.cells_.forEach(function(b){a.setAsOwner(b);b.style.display="inline-block";b!=a.cells_[0]&&(b.style.marginLeft="8px");a.container_.appendChild(b)})};
Y.prototype.layoutCallback=function(){this.doLayout_(this.pos_);this.preloadNext_(this.pos_,1);this.setControlsState();return Promise.resolve()};Y.prototype.viewportCallback=function(a){this.updateInViewport_(this.pos_,this.pos_);a&&this.hintControls()};
Y.prototype.goCallback=function(a,b){var c=this.nextPos_(this.pos_,a);if(c!=this.pos_){var d=this.pos_;this.pos_=c;if(b){var e=this;K(N(this.container_,{transform:R(O(-d,-c))}),200,"ease-out").thenAlways(function(){e.commitSwitch_(d,c)})}else this.commitSwitch_(d,c)}};Y.prototype.commitSwitch_=function(a,b){B(this.container_,{transform:C(-b)});this.updateInViewport_(b,a);this.doLayout_(b);this.preloadNext_(b,Math.sign(b-a));this.setControlsState()};
Y.prototype.nextPos_=function(a,b){var c=this.element.offsetWidth,d=this.container_.scrollWidth,e=a+b*c;return 0>e?0:d>=c&&e>d-c?d-c:e};Y.prototype.withinWindow_=function(a,b){for(var c=this.getLayoutWidth(),d=0;d<this.cells_.length;d++){var e=this.cells_[d];e.offsetLeft+e.offsetWidth>=a&&e.offsetLeft<=a+c&&b(e)}};Y.prototype.doLayout_=function(a){var b=this;this.withinWindow_(a,function(a){b.scheduleLayout(a)})};
Y.prototype.preloadNext_=function(a,b){var c=this.nextPos_(a,b);if(c!=a){var d=this;this.withinWindow_(c,function(a){d.schedulePreload(a)})}};Y.prototype.updateInViewport_=function(a,b){var c=this,d=[];this.withinWindow_(a,function(a){d.push(a);c.updateInViewport(a,!0)});if(b!=a){var e=this;this.withinWindow_(b,function(a){-1==d.indexOf(a)&&(e.updateInViewport(a,!1),e.schedulePause(a))})}};
Y.prototype.setupGestures=function(){var a=this;this.extent_=this.maxPos_=this.minPos_=this.startPos_=0;this.motion_=null;var b=ma(this.element);b.onGesture(X,function(b){if(b.data.first)a.onSwipeStart_(b.data);a.onSwipe_(b.data);if(b.data.last)a.onSwipeEnd_(b.data)});b.onPointerDown(function(){a.motion_&&(a.motion_.halt(),a.motion_=null)})};Y.prototype.onSwipeStart_=function(){this.updateBounds_();this.startPos_=this.pos_;this.motion_=null};
Y.prototype.onSwipe_=function(a){this.pos_=this.boundPos_(this.startPos_-a.deltaX,!0);B(this.container_,{transform:C(-this.pos_)});.05>Math.abs(a.velocityX)&&this.commitSwitch_(this.startPos_,this.pos_)};
Y.prototype.onSwipeEnd_=function(a){var b=this,c=void 0;if(.1<Math.abs(a.velocityX)){var d=this;this.motion_=da(this.pos_,0,-a.velocityX,0,function(a){a=.5*(d.boundPos_(a,!0)+d.boundPos_(a,!1));if(1>=Math.abs(a-d.pos_))return!1;d.pos_=a;B(d.container_,{transform:C(-d.pos_)});return!0});c=this.motion_.thenAlways()}else c=Promise.resolve();return c.then(function(){var a=b.boundPos_(b.pos_,!1);if(!(1>Math.abs(a-b.pos_))){var c=O(b.pos_,a);return K(function(a){b.pos_=c(a);B(b.container_,{transform:C(-b.pos_)})},
250,G(.4,0,.2,1.4)).thenAlways()}}).then(function(){b.commitSwitch_(b.startPos_,b.pos_);b.startPos_=b.pos_;b.motion_=null})};Y.prototype.updateBounds_=function(){var a=this.element.offsetWidth,b=this.container_.scrollWidth;this.minPos_=0;this.maxPos_=Math.max(b-a,0);this.extent_=Math.min(.4*a,200)};Y.prototype.boundPos_=function(a,b){var c=b?this.extent_:0;return Math.min(this.maxPos_+c,Math.max(this.minPos_-c,a))};Y.prototype.hasPrev=function(){return 0!=this.pos_};
Y.prototype.hasNext=function(){var a=this.getLayoutWidth();return this.pos_!=Math.max(this.container_.scrollWidth-a,0)};function Z(a){S.apply(this,arguments)}k(Z,S);Z.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};
Z.prototype.buildCarousel=function(){var a=this;this.isLooping_=this.element.hasAttribute("loop");this.isAutoplayRequested_=this.element.hasAttribute("autoplay");this.autoplayDelay_=5E3;this.slides_=this.getRealChildren();this.slides_.forEach(function(b,c){a.setAsOwner(b);b.style.visibility=0<c?"hidden":"visible";a.applyFillContent(b)});this.currentIndex_=0;this.autoplayTimeoutId_=null;r.assert(1<=this.slides_.length,"amp-carousel with type=slides should have at least 1 slide.");this.setupAutoplay_()};
Z.prototype.layoutCallback=function(){var a=this.curSlide_();a&&(this.scheduleLayout(a),this.preloadNext_(1));return Promise.resolve()};Z.prototype.viewportCallback=function(a){var b=this.curSlide_();b&&(this.updateInViewport(b,a),this.tryAutoplay_(1,!0),a&&this.hintControls())};
Z.prototype.goCallback=function(a,b){var c=this.nextIndex_(a);if(0<=c&&c!=this.currentIndex_){var d=this.slides_[c],e=this.curSlide_();this.currentIndex_=c;this.prepareSlide_(d,a);if(b){var f=this;e.style.zIndex=0;K(this.createTransition_(e,d,a),200,"ease-out").thenAlways(function(){f.commitSwitch_(e,d);f.preloadNext_(a)})}else this.commitSwitch_(e,d)}this.tryAutoplay_(1,!0)};
Z.prototype.setupAutoplay_=function(){if(this.isAutoplayRequested_){var a=Number(this.element.getAttribute("delay"));0<a&&(this.autoplayDelay_=Math.max(1E3,a));this.element.hasAttribute("loop")||(this.element.setAttribute("loop",""),this.isLooping_=!0)}};Z.prototype.tryAutoplay_=function(a,b){this.tryCancelAutoplayTimeout_();this.isAutoplayRequested_&&this.isInViewport()&&(this.autoplayTimeoutId_=x.delay(this.go.bind(this,a,b),this.autoplayDelay_))};
Z.prototype.tryCancelAutoplayTimeout_=function(){null!==this.autoplayTimeoutId_&&(x.cancel(this.autoplayTimeoutId_),this.autoplayTimeoutId_=null)};Z.prototype.prepareSlide_=function(a,b){B(a,{transform:C(b*this.element.offsetWidth),zIndex:1,visibility:"visible"});this.scheduleLayout(a)};Z.prototype.resetSlide_=function(a){var b=this.slides_[a];a==this.currentIndex_?B(b,{zIndex:0,transform:"",opacity:1}):B(b,{visibility:"hidden",zIndex:0,transform:"",opacity:1})};
Z.prototype.createTransition_=function(a,b,c){return ja([N(b,{transform:R(O(c*this.element.offsetWidth,0)),opacity:O(.8,1)}),N(a,{transform:ka(O(1,.98)),opacity:O(1,.4)})])};Z.prototype.commitSwitch_=function(a,b){B(a,{visibility:"hidden",zIndex:0,transform:"",opacity:1});B(b,{visibility:"visible",zIndex:0,transform:"",opacity:1});this.updateInViewport(a,!1);this.updateInViewport(b,!0);this.scheduleLayout(b);this.setControlsState();this.schedulePause(a)};Z.prototype.curSlide_=function(){return this.slides_[this.currentIndex_]};
Z.prototype.nextIndex_=function(a){a=this.currentIndex_+a;0>a?a=this.slides_.length+a:a>=this.slides_.length&&(a%=this.slides_.length);return a};Z.prototype.preloadNext_=function(a){a=this.nextIndex_(a);a!=this.currentIndex_&&this.schedulePreload(this.slides_[a])};Z.prototype.setupGestures=function(){var a=this;this.swipeState_=null;ma(this.element).onGesture(X,function(b){if(b.data.first)a.onSwipeStart_(b.data);a.onSwipe_(b.data);if(b.data.last)a.onSwipeEnd_(b.data)})};
Z.prototype.onSwipeStart_=function(){this.tryCancelAutoplayTimeout_();this.isAutoplayRequested_=!1;var a=this.curSlide_(),b=this.element.offsetWidth,c=0,d=0,e=M,f=M,g=this.slides_.length,g=(this.currentIndex_+-1+g)%g,n=this.slides_.length,n=(this.currentIndex_+1+n)%n;if(this.isLooping_||0<=this.currentIndex_-1)c=this.slides_[g],this.prepareSlide_(c,-1),e=this.createTransition_(a,c,-1),c=-1;if(this.isLooping_||this.currentIndex_+1<this.slides_.length)d=this.slides_[n],this.prepareSlide_(d,1),f=this.createTransition_(a,
d,1),d=1;this.swipeState_={containerWidth:b,prevTr:e,nextTr:f,prevIndex:g,nextIndex:n,min:c,max:d,pos:0,currentIndex:this.currentIndex_}};Z.prototype.onSwipe_=function(a){var b=this.swipeState_;b&&b.currentIndex==this.currentIndex_&&(a=Math.min(b.max,Math.max(b.min,-a.deltaX/b.containerWidth)),b.nextTr(0<a?a:0),b.prevTr(0>a?-a:0),b.pos=a)};
Z.prototype.onSwipeEnd_=function(a){var b=this,c=this.swipeState_;if(c&&c.currentIndex==this.currentIndex_){this.swipeState_=null;var d=c.pos;0<=c.pos*-a.velocityX&&(d=c.pos-Math.sign(a.velocityX)*(.2<Math.abs(a.velocityX)?1:0));var d=Math.min(c.max,Math.max(c.min,d)),e=.55<=Math.abs(d)?Math.sign(d):0;a=void 0;if(e!=c.pos){var f=O(c.pos,e);a=K(function(a){a=f(a);c.nextTr(0<a?a:0);c.prevTr(0>a?-a:0);c.pos=a},150,G(.19,.49,.2,1)).thenAlways()}else a=Promise.resolve();return a.then(function(){if(c.currentIndex==
b.currentIndex_){var a=b.curSlide_();.5<e?(c.nextTr(1),b.currentIndex_=c.nextIndex,b.commitSwitch_(a,b.curSlide_()),-1!=c.prevIndex&&c.prevIndex!=b.currentIndex_&&b.resetSlide_(c.prevIndex)):(-.5>e?(c.prevTr(1),b.currentIndex_=c.prevIndex,b.commitSwitch_(a,b.curSlide_())):(c.nextTr(0),c.prevTr(0),b.resetSlide_(b.currentIndex_),-1!=c.prevIndex&&c.prevIndex!=b.currentIndex_&&b.resetSlide_(c.prevIndex)),-1!=c.nextIndex&&c.nextIndex!=b.currentIndex_&&b.resetSlide_(c.nextIndex))}})}};
Z.prototype.hasPrev=function(){return this.isLooping_?!0:0!=this.currentIndex_};Z.prototype.hasNext=function(){return this.isLooping_?!0:this.currentIndex_<this.slides_.length-1};Z.prototype.interactionNext=function(){this.nextButton_.classList.contains("amp-disabled")||(this.isAutoplayRequested_=!1,this.go(1,!0))};Z.prototype.interactionPrev=function(){this.prevButton_.classList.contains("amp-disabled")||(this.isAutoplayRequested_=!1,this.go(-1,!0))};AMP.registerElement("amp-carousel",function(a){return a.hasAttribute("type")&&"slides"==a.getAttribute("type")?new Z(a):new Y(a)},'.amp-carousel-button{position:absolute;box-sizing:border-box;top:50%;height:34px;width:34px;border-radius:2px;opacity:0;pointer-events:all;background-color:rgba(0,0,0,.5);background-position:50% 50%;background-repeat:no-repeat;-webkit-transform:translateY(-50%);transform:translateY(-50%);visibility:hidden;z-index:10}.amp-mode-mouse .amp-carousel-button,amp-carousel[controls] .amp-carousel-button{opacity:1;visibility:visible}.amp-carousel-button-prev{left:16px;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff" viewBox="0 0 18 18"><path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z" /></svg>\');background-size:18px 18px}.amp-carousel-button-next{right:16px;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff" viewBox="0 0 18 18"><path d="M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z" /></svg>\');background-size:18px 18px}:not(.amp-mode-mouse) .-amp-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){-webkit-animation:a 1s ease-in 0s 1 normal both;animation:a 1s ease-in 0s 1 normal both}@-webkit-keyframes a{0%{opacity:1;visibility:visible}to{opacity:0;visibility:hidden}}@keyframes a{0%{opacity:1;visibility:visible}to{opacity:0;visibility:hidden}}amp-carousel .amp-carousel-button.amp-disabled{-webkit-animation:none;animation:none;opacity:0;visibility:hidden}\n/*# sourceURL=/extensions/amp-carousel/0.1/amp-carousel.css*/');
});
//# sourceMappingURL=amp-carousel-0.1.js.map

