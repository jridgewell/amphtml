(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(l.Object.defineProperties){var e=l.Object.getOwnPropertyDescriptor(b,d);void 0!==e&&l.Object.defineProperty(a,d,e)}else a[d]=b[d]};var n=null,q="";var r=(new Date).getTime();function t(a,b,c){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=c||""}
t.prototype.calcLevel_=function(){var a;if(n)a=n;else{if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,c=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),d=0;d<b.length;d++){var e=
b[d],f=e.indexOf("="),g=void 0,k=void 0;-1!=f?(g=decodeURIComponent(e.substring(0,f)).trim(),k=decodeURIComponent(e.substring(f+1)).trim()):(g=decodeURIComponent(e).trim(),k="");g&&(c[g]=k)}}q||(q=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==c.development||window.AMP_DEV_MODE,filter:c.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:c.log,version:q}}a=n=a}return this.win.console&&
this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};t.prototype.msg_=function(a,b,c){if(0!=this.level_){var d=this.win.console.log;"ERROR"==b?d=this.win.console.error||d:"INFO"==b?d=this.win.console.info||d:"WARN"==b&&(d=this.win.console.warn||d);c.unshift((new Date).getTime()-r,"["+a+"]");d.apply(this.win.console,c)}};t.prototype.isEnabled=function(){return 0!=this.level_};
t.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};t.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};t.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};
t.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=u.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(c);this.win.setTimeout(function(){throw c;})}};t.prototype.createError=function(a){var b=u.apply(null,arguments);this.prepareError_(b);return b};
t.prototype.assert=function(a,b,c){var d=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),g=f,k=[];""!=f&&k.push(f);for(f=2;f<arguments.length;f++){var h=arguments[f];h&&h.tagName&&(d=h);var p=e.shift();k.push(h);var y=p.trim();""!=y&&k.push(y);h=h instanceof Element?h.tagName.toLowerCase()+(h.id?"#"+h.id:""):h;g+=h+p}e=Error(g);e.fromAssert=!0;e.associatedElement=d;e.messageArray=k;this.prepareError_(e);throw e;}return a};
t.prototype.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};t.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function u(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}
var v=new t(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b");new t(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});function w(a){return a.replace(/-([a-z])/g,function(a,c){return c.toUpperCase()})};window.document.createElement("a");Object.create(null);function x(a,b,c){if(!b)return a;a=a.split("#",2);var d=a[0].split("?",2);b=d[0]+(d[1]?c?"?"+b+"&"+d[1]:"?"+d[1]+"&"+b:"?"+b);return b+=a[1]?"#"+a[1]:""}function z(a,b){var c=Object.keys(b).reduce(function(a,c){return a+("&"+encodeURIComponent(c)+"="+encodeURIComponent(b[c]))},"");return x(a,c.substring(1))};function A(a,b){for(var c=b||function(a){return a},d=a.attributes,e=Object.create(null),f=0;f<d.length;f++){var g=d[f],k=g.name.match(/^data-param-(.+)/);k&&(k=w(k[1]),e[c(k)]=g.value)}return e};function B(a){this.win=a;this.resolved_=Promise.resolve();this.taskCount_=0;this.canceled_={};this.startTime_=this.now()}B.prototype.now=function(){return Date.now()};B.prototype.timeSinceStart=function(){return this.now()-this.startTime_};B.prototype.delay=function(a,b){if(!b){var c=this,d="p"+this.taskCount_++;this.resolved_.then(function(){c.canceled_[d]?delete c.canceled_[d]:a()});return d}return this.win.setTimeout(a,b)};
B.prototype.cancel=function(a){"string"==typeof a?this.canceled_[a]=!0:this.win.clearTimeout(a)};B.prototype.promise=function(a,b){var c=this,d=null;return(new Promise(function(e,f){d=c.delay(function(){d=-1;e(b)},a);-1==d&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=d&&c.cancel(d);throw a;})};
B.prototype.timeoutPromise=function(a,b,c){var d=this,e=null,f=(new Promise(function(b,f){e=d.delay(function(){e=-1;f(v.createError(c||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&d.cancel(e);throw a;});return b?Promise.race([f,b]):f};var C=new B(window);function D(a,b,c,d){function e(a){c(a);g()}var f=d||!1,g=void 0,g=function(){a&&a.removeEventListener(b,e,f);e=a=null};a.addEventListener(b,e,f);return g}
function E(a,b){var c=void 0,d=void 0,e=new Promise(function(b,e){a.complete||"complete"==a.readyState?b(a):(c="AUDIO"===a.tagName||"VIDEO"===a.tagName?D(a,"loadstart",function(){return b(a)}):D(a,"load",function(){return b(a)}),d=D(a,"error",function(){e(v.createError("Failed HTTP request for %s.",a))}))});return F(e,function(){c&&c();d&&d()},b)}function F(a,b,c){var d=void 0,d=void 0===c?a:C.timeoutPromise(c||0,a);return b?d.then(function(a){b();return a},function(a){b();throw a;}):d};var G=Object.create(null),H="Webkit webkit Moz moz ms O o".split(" ");function I(a,b){for(var c in b){var d=a,e=b[c],f;f=d.style;var g=G[c];if(!g){g=c;if(void 0===f[c]){var k=c.charAt(0).toUpperCase()+c.slice(1),h=void 0;a:{for(h=0;h<H.length;h++){var p=H[h]+k;if(void 0!==f[p]){h=p;break a}}h=""}k=h;void 0!==f[k]&&(g=k)}G[c]=g}(f=g)&&(d.style[f]=e)}};function J(a){AMP.BaseElement.apply(this,arguments)}m(J,AMP.BaseElement);J.prototype.preconnectCallback=function(a){this.preconnect.url("https://www.youtube.com",a);this.preconnect.url("https://s.ytimg.com",a);this.preconnect.url("https://i.ytimg.com",a)};J.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};J.prototype.renderOutsideViewport=function(){return!1};
J.prototype.buildCallback=function(){var a=this.element.getAttribute("width"),b=this.element.getAttribute("height");this.width_=parseFloat(a);this.height_=parseFloat(b);this.playerState_=0;this.videoid_=v.assert(this.element.getAttribute("data-videoid")||this.element.getAttribute("video-id"),"The data-videoid attribute is required for <amp-youtube> %s",this.element);this.getPlaceholder()||this.buildImagePlaceholder_()};
J.prototype.layoutCallback=function(){var a=this,b=this.element.ownerDocument.createElement("iframe"),c="https://www.youtube.com/embed/"+encodeURIComponent(this.videoid_)+"?enablejsapi=1",c=z(c,A(this.element));b.setAttribute("frameborder","0");b.setAttribute("allowfullscreen","true");b.src=c;this.applyFillContent(b);b.width=this.width_;b.height=this.height_;this.element.appendChild(b);this.iframe_=b;this.playerReadyPromise_=new Promise(function(b){a.playerReadyResolver_=b});this.getWin().addEventListener("message",
function(b){return a.handleYoutubeMessages_(b)});return E(b).then(function(){return C.promise(300)}).then(function(){return a.listenToFrame_()}).then(function(){return a.playerReadyPromise_})};J.prototype.pauseCallback=function(){this.iframe_&&this.iframe_.contentWindow&&1==this.playerState_&&this.pauseVideo_()};J.prototype.pauseVideo_=function(){this.iframe_.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*")};
J.prototype.handleYoutubeMessages_=function(a){if("https://www.youtube.com"==a.origin&&a.source==this.iframe_.contentWindow){var b=void 0;if(a.data&&0==a.data.indexOf("{")){try{b=JSON.parse(a.data)}catch(c){return}"onReady"==b.event?this.playerReadyResolver_(this.iframe_):"infoDelivery"==b.event&&b.info&&void 0!==b.info.playerState&&(this.playerState_=b.info.playerState)}}};J.prototype.listenToFrame_=function(){this.iframe_.contentWindow.postMessage(JSON.stringify({event:"listening"}),"*")};
J.prototype.buildImagePlaceholder_=function(){var a=this.element.ownerDocument.createElement("img"),b=this.videoid_;I(a,{"object-fit":"cover",visibility:"hidden"});a.src="https://i.ytimg.com/vi/"+encodeURIComponent(this.videoid_)+"/sddefault.jpg#404_is_fine";a.setAttribute("placeholder","");a.width=this.width_;a.height=this.height_;this.element.appendChild(a);this.applyFillContent(a);E(a).then(function(){if(120==a.naturalWidth&&90==a.naturalHeight)throw Error("sddefault.jpg is not found");}).catch(function(){a.src=
"https://i.ytimg.com/vi/"+encodeURIComponent(b)+"/hqdefault.jpg";return E(a)}).then(function(){I(a,{visibility:""})})};AMP.registerElement("amp-youtube",J);
});
//# sourceMappingURL=amp-youtube-0.1.js.map

