(window.AMP = window.AMP || []).push(function(AMP) {var process={env:{NODE_ENV:"production"}};var g="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(g.Object.defineProperties){var e=g.Object.getOwnPropertyDescriptor(b,d);void 0!==e&&g.Object.defineProperty(a,d,e)}else a[d]=b[d]};var n=null,p="";var q=(new Date).getTime();function r(a,b,c){this.win=a.AMP_TEST?a.parent:a;this.levelFunc_=b;this.level_=this.calcLevel_();this.suffix_=c||""}
r.prototype.calcLevel_=function(){var a;if(n)a=n;else{if(window.context&&window.context.mode)a=window.context.mode;else{a=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]');var b=location.originalHash||location.hash,c=Object.create(null);if(b){if(0==b.indexOf("?")||0==b.indexOf("#"))b=b.substr(1);for(var b=b.split("&"),d=0;d<b.length;d++){var e=
b[d],f=e.indexOf("="),k=void 0,l=void 0;-1!=f?(k=decodeURIComponent(e.substring(0,f)).trim(),l=decodeURIComponent(e.substring(f+1)).trim()):(k=decodeURIComponent(e).trim(),l="");k&&(c[k]=l)}}p||(p=a?"1463506055389":window.AMP_CONFIG&&window.AMP_CONFIG.v?window.AMP_CONFIG.v:"1463506055389");a={localDev:a,development:"1"==c.development||window.AMP_DEV_MODE,filter:c.filter,minified:"production"==process.env.NODE_ENV,test:window.AMP_TEST,log:c.log,version:p}}a=n=a}return this.win.console&&
this.win.console.log&&"0"!=a.log?this.win.ENABLE_LOG?4:a.localDev&&!a.log?3:this.levelFunc_(a):0};r.prototype.msg_=function(a,b,c){if(0!=this.level_){var d=this.win.console.log;"ERROR"==b?d=this.win.console.error||d:"INFO"==b?d=this.win.console.info||d:"WARN"==b&&(d=this.win.console.warn||d);c.unshift((new Date).getTime()-q,"["+a+"]");d.apply(this.win.console,c)}};r.prototype.isEnabled=function(){return 0!=this.level_};
r.prototype.fine=function(a,b){4<=this.level_&&this.msg_(a,"FINE",Array.prototype.slice.call(arguments,1))};r.prototype.info=function(a,b){3<=this.level_&&this.msg_(a,"INFO",Array.prototype.slice.call(arguments,1))};r.prototype.warn=function(a,b){2<=this.level_&&this.msg_(a,"WARN",Array.prototype.slice.call(arguments,1))};
r.prototype.error=function(a,b){if(1<=this.level_)this.msg_(a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=t.apply(null,Array.prototype.slice.call(arguments,1));this.prepareError_(c);this.win.setTimeout(function(){throw c;})}};r.prototype.createError=function(a){var b=t.apply(null,arguments);this.prepareError_(b);return b};
r.prototype.assert=function(a,b,c){var d=void 0;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),k=f,l=[];""!=f&&l.push(f);for(f=2;f<arguments.length;f++){var h=arguments[f];h&&h.tagName&&(d=h);var v=e.shift();l.push(h);var w=v.trim();""!=w&&l.push(w);h=h instanceof Element?h.tagName.toLowerCase()+(h.id?"#"+h.id:""):h;k+=h+v}e=Error(k);e.fromAssert=!0;e.associatedElement=d;e.messageArray=l;this.prepareError_(e);throw e;}return a};
r.prototype.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};r.prototype.prepareError_=function(a){this.suffix_&&(a.message?-1==a.message.indexOf(this.suffix_)&&(a.message+=this.suffix_):a.message=this.suffix_)};function t(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}
var u=new r(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b"),x=new r(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0});function y(a){this.win=a;this.resolved_=Promise.resolve();this.taskCount_=0;this.canceled_={};this.startTime_=this.now()}y.prototype.now=function(){return Date.now()};y.prototype.timeSinceStart=function(){return this.now()-this.startTime_};y.prototype.delay=function(a,b){if(!b){var c=this,d="p"+this.taskCount_++;this.resolved_.then(function(){c.canceled_[d]?delete c.canceled_[d]:a()});return d}return this.win.setTimeout(a,b)};
y.prototype.cancel=function(a){"string"==typeof a?this.canceled_[a]=!0:this.win.clearTimeout(a)};y.prototype.promise=function(a,b){var c=this,d=null;return(new Promise(function(e,f){d=c.delay(function(){d=-1;e(b)},a);-1==d&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=d&&c.cancel(d);throw a;})};
y.prototype.timeoutPromise=function(a,b,c){var d=this,e=null,f=(new Promise(function(b,f){e=d.delay(function(){e=-1;f(u.createError(c||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&d.cancel(e);throw a;});return b?Promise.race([f,b]):f};new y(window);Object.create(null);function z(a){AMP.BaseElement.apply(this,arguments)}m(z,AMP.BaseElement);z.prototype.isLayoutSupported=function(a){return"fixed-height"==a};z.prototype.isReadyToBuild=function(){return!1};
z.prototype.buildCallback=function(){this.isExperimentOn_=!0;var a=this.getRealChildNodes(),b=this.element.ownerDocument,c=b.createElement("div");c.setAttribute("class","-amp-fx-flying-carpet-clip");b=b.createElement("div");b.setAttribute("class","-amp-fx-flying-carpet-container");for(var d=0;d<a.length;d++)b.appendChild(a[d]);c.appendChild(b);this.element.appendChild(c)};
z.prototype.assertPosition=function(){var a=this.element.getLayoutBox(),b=this.getViewport(),c=b.getHeight(),b=b.getScrollHeight();u.assert(a.top>=c,"<amp-fx-flying-carpet> elements must be positioned after the first viewport: %s Current position: %s. Min: %s",this.element,a.top,c);u.assert(a.bottom<=b-c,"<amp-fx-flying-carpet> elements must be positioned before the last viewport: %s Current position: %s. Max: %s",this.element,a.bottom,b-c)};
z.prototype.layoutCallback=function(){this.assertPosition();return Promise.resolve()};AMP.registerElement("amp-fx-flying-carpet",z,"amp-fx-flying-carpet{position:relative!important;box-sizing:border-box!important}amp-fx-flying-carpet>.-amp-fx-flying-carpet-clip{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;border:0!important;margin:0!important;padding:0!important;clip:rect(0,auto,auto,0)!important;-webkit-clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important;clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important}amp-fx-flying-carpet>.-amp-fx-flying-carpet-clip>.-amp-fx-flying-carpet-container{position:fixed!important;top:0!important;left:0!important;width:100%!important;-webkit-transform:translateZ(0)!important}\n/*# sourceURL=/extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.css*/");
});
//# sourceMappingURL=amp-fx-flying-carpet-0.1.js.map

